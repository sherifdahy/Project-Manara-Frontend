<div>
  <!-- Settings Form -->
  <form [formGroup]="facultyForm" (ngSubmit)="onSave()">

    <div class="row g-3">
      <!-- Left Column - Basic Information -->
      <div class="col-12 col-lg-8">
        <!-- Basic Information Card -->
        <div class="settings-card mb-3" hasPermission="faculties:update">
          <div class="card-header-custom">
            <div class="header-icon">
              <i class="fa-solid fa-building"></i>
            </div>
            <div>
              <h5 class="card-title-custom">Basic Information</h5>
              <p class="card-subtitle-custom">General faculty details and description</p>
            </div>
          </div>

          <div class="card-body-custom">
            <!-- Faculty Name -->
            <div class="form-group-custom">
              <label class="form-label-custom">
                Faculty Name <span class="required-mark">*</span>
              </label>
              <input type="text" class="form-control-custom" formControlName="name" placeholder="Enter faculty name" />
              <app-display-error [control]="facultyForm.get('name')"></app-display-error>
            </div>

            <!-- Description -->
            <div class="form-group-custom">
              <label class="form-label-custom">
                Description <span class="required-mark">*</span>
              </label>
              <textarea class="form-control-custom" formControlName="description" rows="4" placeholder="Enter faculty description"></textarea>
              <div class="form-hint">
                Provide a brief description of the faculty's mission and programs
              </div>
              <app-display-error [control]="facultyForm.get('description')"></app-display-error>
            </div>

            <!-- Address -->
            <div class="form-group-custom">
              <label class="form-label-custom">
                Address <span class="required-mark">*</span>
              </label>
              <input type="text" class="form-control-custom" formControlName="address" placeholder="Enter faculty address"/>
              <div class="form-hint">
                <i class="fa-solid fa-location-dot me-1"></i>
                Full address including city and postal code
              </div>
              <app-display-error [control]="facultyForm.get('address')"></app-display-error>
            </div>
          </div>
        </div>

        <!-- Contact Information Card -->
        <div class="settings-card" hasPermission="faculties:update">
          <div class="card-header-custom">
            <div class="header-icon">
              <i class="fa-solid fa-address-card"></i>
            </div>
            <div>
              <h5 class="card-title-custom">Contact Information</h5>
              <p class="card-subtitle-custom">Email and website details</p>
            </div>
          </div>

          <div class="card-body-custom">
            <!-- Email -->
            <div class="form-group-custom">
              <label class="form-label-custom">
                Email Address <span class="required-mark">*</span>
              </label>
              <div class="input-with-icon">
                <i class="fa-solid fa-envelope input-icon"></i>
                <input type="email" class="form-control-custom with-icon" formControlName="email"
                  placeholder="faculty@university.edu" />
              </div>
              <app-display-error [control]="facultyForm.get('email')"></app-display-error>
            </div>

            <!-- Website -->
            <div class="form-group-custom">
              <label class="form-label-custom">
                Website URL
              </label>
              <div class="input-with-icon">
                <i class="fa-solid fa-globe input-icon"></i>
                <input type="url" class="form-control-custom with-icon" formControlName="website"
                  placeholder="https://faculty.university.edu" />
              </div>
              <div class="form-hint">
                Optional: Faculty's official website URL
              </div>
              <app-display-error [control]="facultyForm.get('website')"></app-display-error>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column - Preview & Actions -->
      <div class="col-12 col-lg-4">
        <!-- Preview Card -->
        <div class="settings-card sticky-card" hasPermission="faculties:read">
          <div class="card-header-custom">
            <div class="header-icon">
              <i class="fa-solid fa-eye"></i>
            </div>
            <div>
              <h5 class="card-title-custom">Preview</h5>
              <p class="card-subtitle-custom">How it will appear</p>
            </div>
          </div>

          <div class="card-body-custom">
            <div class="preview-section">
              <div class="preview-header">
                <div class="preview-icon">
                  <i class="fa-solid fa-building"></i>
                </div>
                <h6 class="preview-title">
                  {{ facultyForm.get('name')?.value || 'Faculty Name' }}
                </h6>
              </div>

              <div class="preview-description">
                {{ facultyForm.get('description')?.value || 'Faculty description will appear here...' }}
              </div>

              <div class="preview-info-list">
                <div class="preview-info-item" *ngIf="facultyForm.get('address')?.value">
                  <i class="fa-solid fa-location-dot"></i>
                  <span>{{ facultyForm.get('address')?.value }}</span>
                </div>
                <div class="preview-info-item" *ngIf="facultyForm.get('email')?.value">
                  <i class="fa-solid fa-envelope"></i>
                  <span>{{ facultyForm.get('email')?.value }}</span>
                </div>
                <div class="preview-info-item" *ngIf="facultyForm.get('website')?.value">
                  <i class="fa-solid fa-globe"></i>
                  <span>{{ facultyForm.get('website')?.value }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Actions Card -->
        <div class="settings-card mt-3" hasPermission="faculties:update">
          <div class="card-body-custom">
            <div class="actions-section">
              <button type="submit" class="btn-primary-custom w-100 mb-2" [disabled]="!facultyForm.valid" hasPermission="faculties:update">
                <i class="fa-solid fa-check me-2"></i> Save Changes
              </button>
            </div>

            <!-- Form Status -->
            <div class="form-status mt-3" *ngIf="facultyForm.dirty" hasPermission="faculties:update">
              <div class="alert-warning-custom">
                <i class="fa-solid fa-exclamation-triangle me-2"></i>
                You have unsaved changes
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </form>
</div>
