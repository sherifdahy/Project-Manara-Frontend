<section>
  <div class="container-fluid my-4">
    <h2 class="mb-4 fw-bold">Edit Role</h2>

    <form>
      <!-- Role Details -->
      <div class="card mb-4 p-3">
        <div class="mb-3">
          <label class="form-label">Role Name</label>
          <input
            [(ngModel)]="roleName"
            name="role-name"
            type="text"
            class="form-control"
            placeholder="Enter role name"
          />
        </div>
        <div class="mb-3">
          <label class="form-label">Role Code</label>
          <input
            [(ngModel)]="roleCode"
            name="role-code"
            type="text"
            class="form-control"
            placeholder="Enter role code"
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Description</label>
          <textarea
            [(ngModel)]="roleDescription"
            class="form-control"
            rows="4"
            name="roleDescription"
            placeholder="Enter role description"
          ></textarea>
        </div>
      </div>

      <!-- Permissions Section -->
      <h5 class="mb-3">Permissions</h5>

      <!-- Role Permissions -->
      <div class="card mb-3 p-3" #roleCard>
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Role Permissions</h6>
          <div class="btn-group btn-group-sm">
            <button
              type="button"
              class="btn btn-role-style fw-normal me-2 rounded-3"
              (click)="selectAll(roleCard)"
            >
              Select All
            </button>
            <button
              type="button"
              class="btn btn-clear-cancel btn-outline-secondary rounded-3"
              (click)="clearAll(roleCard)"
            >
              Clear All
            </button>
          </div>
        </div>

        <div *ngFor="let item of permissions3.roles" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            #check
            [checked]="permissions.includes('roles:' + item)"
            [id]="`roles:${item}`"
            [value]="`roles:${item}`"
            (change)="onPermissionChange($event)"
          />
          <label class="form-check-label" [for]="`roles:${item}`"
            >{{ item }}
          </label>
        </div>
      </div>

      <!-- Permission Management -->
      <div class="card mb-3 p-3" #permissionCard>
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Permission Management</h6>
          <div class="btn-group btn-group-sm">
            <button
              type="button"
              class="btn btn-role-style fw-normal me-2 rounded-3"
              (click)="selectAll(permissionCard)"
            >
              Select All
            </button>
            <button
              type="button"
              class="btn btn-clear-cancel btn-outline-secondary rounded-3"
              (click)="clearAll(permissionCard)"
            >
              Clear All
            </button>
          </div>
        </div>

        <div *ngFor="let item of permissions3.roles" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            #check
            [checked]="permissions.includes('permissions:' + item)"
            [id]="`permissions:${item}`"
            [value]="`permissions:${item}`"
            (change)="onPermissionChange($event)"
          />
          <label class="form-check-label" [for]="`permissions:${item}`"
            >{{ item }}
          </label>
        </div>
      </div>

      <!-- University Permissions -->
      <div class="card mb-3 p-3" #universityCard>
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">University Permissions</h6>
          <div class="btn-group btn-group-sm">
            <button
              type="button"
              class="btn btn-role-style fw-normal me-2 rounded-3"
              (click)="selectAll(universityCard)"
            >
              Select All
            </button>
            <button
              type="button"
              class="btn btn-clear-cancel btn-outline-secondary rounded-3"
              (click)="clearAll(universityCard)"
            >
              Clear All
            </button>
          </div>
        </div>

        <div *ngFor="let item of permissions3.roles" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            #check
            [checked]="permissions.includes('universities:' + item)"
            [id]="`universities:${item}`"
            [value]="`universities:${item}`"
            (change)="onPermissionChange($event)"
          />
          <label class="form-check-label" [for]="`universities:${item}`"
            >{{ item }}
          </label>
        </div>
      </div>

      <!-- Faculty Permissions -->
      <div class="card mb-3 p-3" #facultyCard>
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Faculty Permissions</h6>
          <div class="btn-group btn-group-sm">
            <button
              type="button"
              class="btn btn-role-style fw-normal me-2 rounded-3"
              (click)="selectAll(facultyCard)"
            >
              Select All
            </button>
            <button
              type="button"
              class="btn btn-clear-cancel btn-outline-secondary rounded-3"
              (click)="clearAll(facultyCard)"
            >
              Clear All
            </button>
          </div>
        </div>

        <div *ngFor="let item of permissions3.roles" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            #check
            [checked]="permissions.includes('faculties:' + item)"
            [id]="`faculties:${item}`"
            [value]="`faculties:${item}`"
            (change)="onPermissionChange($event)"
          />
          <label class="form-check-label" [for]="`faculties:${item}`"
            >{{ item }}
          </label>
        </div>
      </div>

      <!-- Departments Permissions -->
      <div class="card mb-3 p-3" #departmentCard>
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Department Permissions</h6>
          <div class="btn-group btn-group-sm">
            <button
              type="button"
              class="btn btn-role-style fw-normal me-2 rounded-3"
              (click)="selectAll(departmentCard)"
            >
              Select All
            </button>
            <button
              type="button"
              class="btn btn-clear-cancel btn-outline-secondary rounded-3"
              (click)="clearAll(departmentCard)"
            >
              Clear All
            </button>
          </div>
        </div>

        <div *ngFor="let item of permissions3.departments" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            #check
            [checked]="permissions.includes('departments:' + item)"
            [id]="`departments:${item}`"
            [value]="`departments:${item}`"
            (change)="onPermissionChange($event)"
          />
          <label class="form-check-label" [for]="`departments:${item}`"
            >{{ item }}
          </label>
        </div>
      </div>

      <!-- Program Permissions -->
      <div class="card mb-3 p-3" #programCard>
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Program Permissions</h6>
          <div class="btn-group btn-group-sm">
            <button
              type="button"
              class="btn btn-role-style fw-normal me-2 rounded-3"
              (click)="selectAll(programCard)"
            >
              Select All
            </button>
            <button
              type="button"
              class="btn btn-clear-cancel btn-outline-secondary rounded-3"
              (click)="clearAll(programCard)"
            >
              Clear All
            </button>
          </div>
        </div>

        <div *ngFor="let item of permissions3.departments" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            #check
            [checked]="permissions.includes('Programs:' + item)"
            [id]="`Programs:${item}`"
            [value]="`Programs:${item}`"
            (change)="onPermissionChange($event)"
          />
          <label class="form-check-label" [for]="`Programs:${item}`"
            >{{ item }}
          </label>
        </div>
      </div>
      <!-- Scopes Permissions -->
      <div class="card mb-3 p-3" #scopeCard>
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Scope Permissions</h6>
          <div class="btn-group btn-group-sm">
            <button
              type="button"
              class="btn btn-role-style fw-normal me-2 rounded-3"
              (click)="selectAll(scopeCard)"
            >
              Select All
            </button>
            <button
              type="button"
              class="btn btn-clear-cancel btn-outline-secondary rounded-3"
              (click)="clearAll(scopeCard)"
            >
              Clear All
            </button>
          </div>
        </div>

        <div *ngFor="let item of permissions3.departments" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            #check
            [checked]="permissions.includes('scopes:' + item)"
            [id]="`scopes:${item}`"
            [value]="`scopes:${item}`"
            (change)="onPermissionChange($event)"
          />
          <label class="form-check-label" [for]="`scopes:${item}`"
            >{{ item }}
          </label>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="d-flex justify-content-end gap-3 mt-3">
        <button
          (click)="clearForm()"
          type="button"
          class="btn btn-clear-cancel btn-outline-secondary rounded-3"
        >
          Cancel
        </button>
        <button
          (click)="submit()"
          type="button"
          class="btn btn-role-style fw-normal rounded-3"
        >
          Save Changes
        </button>
      </div>
    </form>
  </div>
</section>
