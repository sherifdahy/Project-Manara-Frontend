<ng-container *ngIf="(currentUniversity$ |async) as university">
  <!-- Statistics Section -->
  <section  class="stats-section my-2">
    <div class="container-fluid px-0">
      <div class="stats-wrapper">

        <!-- Header -->
        <div class="stats-header d-flex flex-column flex-md-row align-items-md-center justify-content-md-between gap-3">
          <div class="d-flex gap-3 align-items-start">
            <div class="stats-header__icon d-flex align-items-center justify-content-center flex-shrink-0">
              <i class="fa-solid fa-building-columns"></i>
            </div>
            <div>
              <div class="d-flex align-items-center gap-2 flex-wrap mb-2">
                <h3 class="stats-header__title m-0">{{ university.name }}</h3>
              </div>
              <div class="d-flex gap-3 flex-wrap">
                <span class="d-flex align-items-center gap-1 stats-header__meta">
                  <i class="fa-regular fa-calendar"></i>
                  {{ "section.established" | translate }} {{ university.yearOfEstablishment }}
                </span>
              </div>
            </div>
          </div>
          <div  class="d-flex gap-2 flex-wrap">
            <button class="btn-edit d-inline-flex align-items-center gap-2">
              <i class="fa-solid fa-pen-to-square"></i>
              {{ "section.editProfile" | translate }}
            </button>
          </div>
        </div>

        <!-- Real-Time Statistics -->
        <div class="analysis">
          <h3 class="analysis__title d-flex align-items-center gap-2 m-0">
            <i class="fa-solid fa-chart-line"></i>
            {{ "analysis.title" | translate }}
          </h3>
          <div class="row g-3 mt-1">
            <!-- Students Card -->
            <div class="col-12 col-sm-6 col-lg-3">
              <div class="stat-card">
                <div class="d-flex justify-content-between align-items-start mb-2">
                  <i class="fa-solid fa-graduation-cap"></i>
                  <span class="stat-card__change stat-card__change--up d-inline-flex align-items-center gap-1">
                    <i class="fa-solid fa-arrow-trend-up"></i>
                    +8.5%
                  </span>
                </div>
                <h4 class="m-0">{{ university.numberOfStudents | number }}</h4>
                <p class="stat-card__label m-0">{{ "analysis.students.total" | translate }}</p>
              </div>
            </div>

            <!-- Staff Card -->
            <div class="col-12 col-sm-6 col-lg-3">
              <div class="stat-card">
                <div class="d-flex justify-content-between align-items-start mb-2">
                  <i class="fa-solid fa-users"></i>
                  <span class="stat-card__change stat-card__change--up d-inline-flex align-items-center gap-1">
                    <i class="fa-solid fa-arrow-trend-up"></i>
                    +5.2%
                  </span>
                </div>
                <h4 class="m-0">{{ university.numberOfStuff | number }}</h4>
                <p class="stat-card__label m-0">{{ "analysis.staff.total" | translate }}</p>
              </div>
            </div>

            <!-- Faculties Card -->
            <div class="col-12 col-sm-6 col-lg-3">
              <div class="stat-card">
                <div class="d-flex justify-content-between align-items-start mb-2">
                  <i class="fa-solid fa-building-columns"></i>
                </div>
                <h4 class="m-0">{{ university.numberOfFacilities | number }}</h4>
                <p class="stat-card__label m-0">{{ "analysis.faculties.total" | translate }}</p>
              </div>
            </div>

            <!-- Programs Card -->
            <div class="col-12 col-sm-6 col-lg-3">
              <div class="stat-card">
                <div class="d-flex justify-content-between align-items-start mb-2">
                  <i class="fa-solid fa-layer-group"></i>
                  <span class="stat-card__change stat-card__change--up d-inline-flex align-items-center gap-1">
                    <i class="fa-solid fa-arrow-trend-up"></i>
                    +15.7%
                  </span>
                </div>
                <h4 class="m-0">{{ 0 | number }}</h4>
                <p class="stat-card__label m-0">{{ "analysis.programs.total" | translate }}</p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Faculties Section -->
  <section class="faculties-section my-4">
    <div class="container-fluid px-0">

      <!-- Section Header -->
      <div  class="d-flex flex-column flex-md-row align-items-md-center justify-content-md-between gap-3 mb-4">
        <div>
          <h4 class="faculties-header m-0">{{ "org.title" | translate }}</h4>
          <p class="faculties-header m-0">{{ "org.subtitle" | translate }}</p>
        </div>
        <div  class="d-flex gap-2 flex-wrap align-items-center">
          <button (click)="openCreateFacultyFormDialog()" class="btn-add d-inline-flex align-items-center gap-2">
            <i class="fa-solid fa-plus"></i>
            {{ "org.addNewUnit" | translate }}
          </button>
        </div>
      </div>

      <!-- Faculty Cards Grid -->
      <div  class="faculties-grid">
        <app-faculty-card *ngFor="let faculty of university.faculties" [faculty]="faculty"></app-faculty-card>
      </div>

    </div>
  </section>
</ng-container>
